<!DOCTYPE html>
<html lang="en">
  <head>
    <title>reduce함수</title>
    <script>
      // reduce(줄이다) : 하나의 값으로 반환.
      const nums = [10, 20, 30, 40, 50];

      // 배열의 총합
      //1.
      let total = 0;
      for (const num of nums) {
        total += num;
      }
      console.log(total); // 150
      //2.
      // pre(acc) : 이전값, 누적값(최종반환값)
      // cur : 현재 요소 값
      let sum = nums.reduce((pre, cur) => {
        // cur값이 idx 1부터 시작. pre가 idx 0으로 시작.
        console.log(pre, cur); // 10 20 / 30 30 / 60 40 / 100 50 => 총 4번(처음에 idx 0, 1이 한번에 오기 때문)
        return pre + cur;
      });
      console.log(sum); // 150
      //3.
      sum = nums.reduce((pre, cur, index, arr) => {
        console.log(pre, cur, index, arr); // 0 10 0 / 10 20 1 / 30 30 2 / 60 40 3 / 100 50 4 => 총 5번(pre의 초기값이 0이므로)
        return pre + cur;
      }, 0); // 두번째 인자 = pre의 초기값

      // 최대값 구하기
      //1.
      let max = Number.MIN_SAFE_INTEGER;
      for (const num of nums) {
        if (max < num) {
          max = num;
        }
      }
      console.log(max);
      //2.
      max = nums.reduce((acc, cur) => {
        return acc > cur ? acc : cur;
      });
      console.log(max);

      // 알파벳 갯수 구하기
      const alphabets = ["a", "a", "c", "c", "c"];
      // { a: 2, c: 3 }
      let count = alphabets.reduce((acc, cur) => {
        //acc = { }, cur = "a"
        if (acc[cur]) {
          acc[cur] += 1; // { a : 2 }
        } else {
          acc[cur] = 1; // acc['a'] = 1 => { a : 1 }
        }
        return acc;
      }, {});
      console.log(count); // { a: 2, c: 3 }
    </script>
  </head>
  <body></body>
</html>
